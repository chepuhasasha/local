<- [Содержание](../../README.md)

---

# Траблшутинг: частые проблемы

Документ помогает диагностировать типовые ошибки при локальном запуске.

## Ошибка валидации env

**Симптом:** приложение падает при старте с сообщением `Ошибка валидации env`.

**Что проверить:**

- Наличие всех обязательных переменных: `POSTGRES_HOST`, `POSTGRES_PORT`, `POSTGRES_USER`, `POSTGRES_PASSWORD`, `POSTGRES_DB`.
- Формат `ADDRESS_DATA_MONTH` (только `YYYYMM`).

## Ошибка подключения к PostgreSQL

**Симптом:** readiness возвращает `fail`, либо приложение не стартует.

**Что проверить:**

- PostgreSQL доступен на `POSTGRES_HOST:POSTGRES_PORT`.
- В `docker-compose` используются те же значения, что в `.env`.

## Импорт не выполняется

**Симптом:** CLI пишет, что advisory lock не получен.

**Что проверить:**

- Импорт уже выполняется в другом процессе.
- После завершения повторите запуск.

## Нет данных в таблице

**Симптом:** `/addresses/search` возвращает пустой массив.

**Что проверить:**

- Импорт завершился успешно.
- В таблице `addresses` есть строки (`SELECT COUNT(*)`).
